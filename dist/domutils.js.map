{"version":3,"sources":["domutils.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","extend","baseObject","targetObject","keys","Object","DOM","Detect","RS","Attr","Core","root","H$","./src/cssattribute","./src/cssselector","./src/domresultset","coreutil/src/detect","2","Mini","MAX_ARRAY_INDEX","Math","pow","isArrayLike","collection","undefined","arrayEach","array","iteratee","result","hiddenProperty","v","value","configurable","enumerable","writable","arguments","this","3","ARS","H","modules","checkTargets","checkers","MODULE","registerChannel","identifier","targets","valuePrechecker","target","addProperty","registerChannelFunction","channel","name","func","push","noop","wrapperGen","transform","obj","prototype","__Module__","__proto__","transformArray","son","wrap","../mini","./shims","4","C","__isRoot__","__name","toString","Number","MAX_VALUE","isObject","isInteger","test","isFloat","processObj","eval","isNodejs","GLOBAL","window","__catching","navigator","userAgent","getIE","MSIEs","split","DNETs","msie","dnet","isIE","likeIE","isiPhone","indexOf","isLollipop","hasOwnProperty","p","isCanvasSupported","canvas","document","createElement","__cv","getContext","isWebGLSupported","__gl","language","toLowerCase","5","S","defineProperty","instance","k","descriptor","ienumerable","ienumerables","Array","__userDefined__","createObject","F","__defineGetter__","get","x","set","defPropException","method","methods","console","String","trim","replace","./detect","6","innerGetAttribute","ele","attr","getAttribute","walkAndGetAttributes","eles","postProcess","addtionalAttr","Func","createWalker","innerSetAttribute","val","setAttribute","walkAndSetAttributes","walkAndSetAttributesBySet","valSet","args","splitClassString","splitGen","strategy","arrayEnsureContains","arrayEnsureWithout","clzz","join","getClasses","alternative","parameter","innerGetClass","classOpGen","className","clss","attribute","assembleFunctions","addClass","removeClass","./funchelper","7","getSingleElement","object","Element","count","vals","queryAttrAlias","c","Vendor","toCamel","fromCamel","c_alias","attrs","f_alias","concat","directRetrieveAttribute","mapped","AttributeMap","ret","getComputedStyle","innerGetDeclaredAttr","style","innerGetAttributeUntil","direct","collectElementsAttributes","directSetAttribute","innerSetAttributeUntil","getCssAttribute","__setVendorProvider","compose","width","height","parent","text","setCssAttribute","./lightvendor","coreutil/mini","8","attributeGetterGen","attributeSetterGen","attributeOpAssembled","Ops","cssAttr","key","./cssattribute","9","findElement","selector","Node","querySelectorAll","NodeList","wrapDom","$","./domresultset","10","checker","htmlElementObj","registerComponent","DomIdentifier","cloneDomElement","deep","cloneNode","cloneDom","find","Selector","NodeOps","printStackTrace","append","prepend","insertHead","insertTail","./attribute","./cssoperators","./cssselector","./nodeop","coreutil/src/abstractresultset","11","func1","func2","desiredArgsSize","earlyExitSize","apply","slice","copyArray","arr","recursivelyDomSomething","elements","collector","initArgs","argProcessor","gen","newArgs","arraySplit","b","ensureArrayContains","ensureArrayWithout","12","L","str","$1","toUpperCase","capitalize","substr","cC","available","13","insertElementAfter","targetElement","newElement","insertAdjacentHTML","nodeType","DOCUMENT_NODE","parentNode","insertBefore","nextSibling","insertElementBefore","insertElementAtBeginning","firstChild","insertElementAtEnd","appendChild","basePender","base","pender","newElements","N","baseAppend","basePrepend","baseInsertHead","baseInsertEnd","insertAtHead","insertAtEnd"],"mappings":"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","file":"domutils.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar DOM = require('./src/cssselector');\r\n\r\nvar Detect = require('coreutil/src/detect');\r\nvar RS = require('./src/domresultset');\r\nvar Attr = require('./src/cssattribute');\r\n\r\nvar Core = {};\r\n\r\nextend(Core, RS);\r\nextend(Core, Attr);\r\n\r\nfunction extend(baseObject, targetObject) {\r\n    var keys = Object.keys(baseObject) || [];\r\n\r\n    for (var i = 0; i < keys.length; i++) {\r\n        targetObject[keys[i]] = baseObject[keys[i]];\r\n    }\r\n\r\n    return targetObject;\r\n}\r\n\r\nDetect.root.H$ = DOM;\r\n\r\nmodule.exports = DOM;\n},{\"./src/cssattribute\":7,\"./src/cssselector\":9,\"./src/domresultset\":10,\"coreutil/src/detect\":4}],2:[function(require,module,exports){\n/*\r\n * MiniCore module\r\n *\r\n * Provides a simplest set of some basic utils.\r\n * Should be used internally.\r\n */\r\n\r\nvar Mini = {};\r\n\r\nvar MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\nvar isArrayLike = function(collection) {\r\n    if (collection === null || collection === undefined) return 0;\r\n    var length = collection['length'];\r\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n};\r\n\r\n/**\r\n * Check if something is array-like\r\n *\r\n * @param collection anything to check\r\n * @return {boolean}\r\n * @type {isArrayLike}\r\n */\r\nMini.isArrayLike = isArrayLike;\r\n\r\n/**\r\n * Iterates on an array. Fast and should not be used on objects.\r\n *\r\n * @param {Array} array\r\n * @param {Function} iteratee\r\n * @returns {Array} result map\r\n */\r\nMini.arrayEach = function(array, iteratee) {\r\n    var length = array.length;\r\n\r\n    if (isArrayLike(array) && length > 0) {\r\n        var result = [];\r\n        var n = length;\r\n        length++;\r\n        while (--length) {\r\n            result[n - length] = iteratee(array[n - length]);\r\n        }\r\n        return result;\r\n    }\r\n};\r\n\r\nMini.hiddenProperty = function(v) {\r\n    return {\r\n        value: v,\r\n        configurable: false,\r\n        enumerable: false,\r\n        writable: true\r\n    };\r\n};\r\n\r\n//No <IE9 Compat\r\nMini.keys = function() {\r\n    if (arguments[0]) {\r\n        return Object.keys(arguments[0]);\r\n    }\r\n    return Object.keys(this);\r\n};\r\n\r\nmodule.exports = Mini;\n},{}],3:[function(require,module,exports){\n/*\r\n * ResultSet: Array or Element, they share the same filter/checker\r\n */\r\n\r\n/**\r\n * Abstract ResultSet Module\r\n *\r\n * @static\r\n * @memberof H\r\n * @type {Object}\r\n */\r\nvar ARS = {};\r\n\r\nvar Mini = require('../mini');\r\nvar H = require('./shims');\r\n\r\nARS.modules = {};\r\nARS.checkTargets = {};\r\nARS.checkers = {};\r\n\r\nvar MODULE = '__Module__';\r\n\r\n/**\r\n * Register a ResultSet channel\r\n * @param {String} identifier ResultSet channel identifier\r\n * @param {Array} targets ResultSet element prototypes, should always contains Array.prototype\r\n * @param {Function} valuePrechecker value validity prechecker function\r\n */\r\nARS.registerChannel = function(identifier, targets, valuePrechecker) {\r\n    ARS.modules[identifier] = {};\r\n    ARS.checkTargets[identifier] = targets;\r\n    ARS.checkers[identifier] = valuePrechecker;\r\n\r\n    Mini.arrayEach(targets || [], function(target) {\r\n        if (!target[MODULE]) {\r\n            H.addProperty(target, MODULE, Mini.hiddenProperty(MODULE));\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * Register ResultSet process functions.\r\n *\r\n * @param {String} channel channel identifier\r\n * @param {String} name target function mount point\r\n * @param {Function} func Checker function. This provides ability of checking content validity to target functions.\r\n */\r\nARS.registerChannelFunction = function(channel, name, func) {\r\n    /**\r\n     * To avoid lodash internal error. (on Object.prototype)\r\n     * (ResultSet member functions `filter`, `toArray` and so-on conflict with the lodash ver.)\r\n     * @type {*|_.noop}\r\n     */\r\n    func.push = H.noop;\r\n    Mini.arrayEach(ARS.checkTargets[channel] || [], function(target) {\r\n        if (!target[name]) {\r\n            H.addProperty(target, name, Mini.hiddenProperty(func));\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * Wrapper function generator.\r\n *\r\n * @param {String} identifier channel identifier\r\n * @returns {wrap} wrapper function to wrap any value into specific ResultSet form\r\n */\r\nARS.wrapperGen = function(identifier) {\r\n    //assuming prototype exists\r\n    function transform(obj) {\r\n        if (obj.prototype && obj.prototype.__Module__ && obj.prototype.__Module__ !== identifier) {\r\n            obj.prototype.__Module__ = identifier;\r\n        }\r\n        if (obj.__proto__ && obj.__proto__.__Module__ && obj.__proto__.__Module__ !== identifier) {\r\n            obj.__proto__.__Module__ = identifier;\r\n        }\r\n    }\r\n\r\n    function transformArray(obj) {\r\n        if (Mini.isArrayLike(obj) && typeof obj != 'string') {\r\n            Mini.arrayEach(obj, function(son) {\r\n                //if input is a string, will cause infinite loop\r\n                if (son !== obj || typeof obj !== 'object') {\r\n                    transformArray(son);\r\n                }\r\n            });\r\n        }\r\n        transform(obj, identifier);\r\n    }\r\n\r\n    /**\r\n     * Wrap an object to ResultSet\r\n     *\r\n     * @static\r\n     * @param {Array|Object} v anything to wrap\r\n     * @returns {*} wrapped ResultSet object\r\n     */\r\n    function wrap(v) {\r\n        transformArray(v);\r\n        return v;\r\n    }\r\n\r\n    return wrap;\r\n};\r\n\r\nmodule.exports = ARS;\n},{\"../mini\":2,\"./shims\":5}],4:[function(require,module,exports){\n/*\r\n * Env Detection Module\r\n */\r\n\r\nvar C = {};\r\n\r\nC.__isRoot__ = true;\r\n\r\nC.__name = '$H';\r\n\r\nC.isArrayLike = function(value) {\r\n    if (value == null || value == undefined) {\r\n        return false;\r\n    }\r\n    var length = value[\"length\"];\r\n    var toString = Object.prototype.toString.call(value);\r\n    if (toString == \"[object Function]\" || toString == \"[object GeneratorFunction]\") {\r\n        return false;\r\n    }\r\n    if (typeof length == \"number\") {\r\n        if (length > -1 && length < Number.MAX_VALUE && length % 1 === 0) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nC.isObject = function(value) {\r\n    var toString = Object.prototype.toString.call(value);\r\n    return !!(toString == \"[object Function]\" || toString == \"[object GeneratorFunction]\");\r\n\r\n};\r\n\r\n/**\r\n * Check if a value can be parsed to an integer\r\n *\r\n * @static\r\n * @memberof H\r\n * @param {*} i value to be checked\r\n * @returns {boolean}\r\n */\r\nC.isInteger = function(i) {\r\n    return  /^-?\\d+$/.test(i + \"\") || /^(-?\\d+)e(\\d+)$/.test(i + \"\");\r\n};\r\n\r\n/**\r\n * Checks if a value can be parsed into a float.\r\n *\r\n * @static\r\n * @memberof H\r\n * @param {*} v value to be checked\r\n * @returns {boolean}\r\n */\r\nC.isFloat = function(v) {\r\n    return /^(-?\\d+)(\\.\\d+)?$/.test(v + \"\") || /^(-?\\d+)(\\.\\d+)?e(-?\\d+)$/.test(v + \"\");\r\n};\r\n\r\nvar processObj = undefined;\r\n\r\ntry {\r\n    processObj = eval('process');\r\n} catch (e) {}\r\n\r\n/**\r\n * Flag of is in node.js environment or not.\r\n *\r\n * @static\r\n * @memberof H\r\n * @type {boolean}\r\n */\r\nC.isNodejs = 'object' === typeof processObj && Object.prototype.toString.call(processObj) === '[object process]';\r\n\r\nC.root = {};\r\n\r\ntry {\r\n    //noinspection JSUnresolvedVariable\r\n    C.root = GLOBAL;\r\n} catch (e) {\r\n    C.root = window;\r\n}\r\n\r\nC.root.__catching = false;\r\n\r\nC.__catching = false;\r\n\r\n//noinspection JSUnresolvedVariable\r\n// C.root = C.isNodejs ? GLOBAL : window;\r\n\r\n//noinspection JSUnresolvedVariable\r\nvar root = C.root;\r\n\r\n//noinspection JSUnresolvedVariable\r\nroot.navigator = root.navigator || {userAgent: \"\"};\r\n\r\nC.root = root;\r\n\r\n/**\r\n * Get IE version.\r\n * Returns 0 in non-IE environment.\r\n *\r\n * @static\r\n * @memberof H\r\n * @returns {number}\r\n */\r\nC.getIE = function() {\r\n    var MSIEs = navigator.userAgent.split('MSIE ')[1] || \"0\";\r\n    var DNETs = navigator.userAgent.split('rv:')[1] || \"0\";\r\n\r\n    MSIEs = MSIEs.split(\".\")[0];\r\n    DNETs = DNETs.split(\".\")[0];\r\n\r\n    var msie = ~~MSIEs;\r\n    var dnet = ~~DNETs;\r\n\r\n    if (msie != 0) {\r\n        return msie;\r\n    }\r\n    if (dnet != 0) {\r\n        return dnet;\r\n    }\r\n\r\n    return 0;\r\n};\r\n\r\n/**\r\n * Check if is in IE or is in a specified version of IE.\r\n *\r\n * @static\r\n * @memberof H\r\n * @param {Number} [v] version to check\r\n * @returns {boolean}\r\n */\r\nC.isIE = function(v) {\r\n    if (v !== undefined) {\r\n        return C.getIE() == v;\r\n    } else {\r\n        return C.getIE() !== 0;\r\n    }\r\n};\r\n\r\n/**\r\n * Flag of is in IE.\r\n *\r\n * @static\r\n * @memberof H\r\n * @type {boolean}\r\n */\r\nC.likeIE = !!C.getIE();\r\n\r\n/**\r\n * Flag of is in browsers on iPhone.\r\n *\r\n * @static\r\n * @memberof H\r\n * @type {boolean}\r\n */\r\nC.isiPhone = navigator.userAgent.indexOf('iPhone') !== -1;\r\n\r\n/**\r\n * Flag of is in browsers of Lollipop systems\r\n * @type {boolean}\r\n */\r\nC.isLollipop = navigator.userAgent.indexOf('Android 5.') !== -1;\r\n\r\n//root.hasOwnProperty shims\r\nif (!root.hasOwnProperty) {\r\n    root.hasOwnProperty = function(p) {\r\n        //Note: in IE<9, p cannot be a function (for window)\r\n        return !!root[p];\r\n    };\r\n}\r\n\r\n/**\r\n * Check if canvas drawing is supported in current browser.\r\n *\r\n * @static\r\n * @memberof H\r\n * @returns {boolean}\r\n */\r\nC.isCanvasSupported = function () {\r\n    if (C.isNodejs) return false;\r\n    var canvas = document.createElement('canvas');\r\n    return root.hasOwnProperty(\"__cv\") ? root.__cv : root.__cv = !!(canvas.getContext && canvas.getContext('2d'));\r\n};\r\n\r\n/**\r\n * Check if webgl drawing is supported in current browser.\r\n *\r\n * @static\r\n * @memberof H\r\n * @returns {boolean}\r\n */\r\nC.isWebGLSupported = function () {\r\n    if (C.isNodejs) return false;\r\n    var canvas = document.createElement('canvas');\r\n    return root.hasOwnProperty(\"__gl\") ? root.__gl : root.__gl = !!(root['WebGLRenderingContext'] && canvas.getContext('webgl'));\r\n};\r\n\r\n// C.isCanvasSupported();\r\n// C.isWebGLSupported();\r\n\r\n/**\r\n * Language string\r\n *\r\n * @static\r\n * @memberof H\r\n * @type {string}\r\n */\r\nC.language = C.isNodejs ? \"\" : (navigator.language || navigator['browserLanguage'] || \"\").toLowerCase();\r\n\r\nmodule.exports = C;\r\n\n},{}],5:[function(require,module,exports){\nvar S = {};\r\n\r\nvar H = require('./detect');\r\nvar root = H.root;\r\n\r\nvar noop = function() {\r\n    return function() {};\r\n};\r\n\r\nvar navigator = H.root.navigator || {userAgent: \"\"};\r\n\r\n/**\r\n * Add property to object\r\n *\r\n * @static\r\n * @memberof H\r\n * @param {Object} object to operate\r\n * @param {String} key field to fill in\r\n * @param {Object} descriptor property descriptor\r\n */\r\nvar addProperty = noop();\r\n//defineProperty in IE8 only accepts DOM elements as parameters, while in Safari 5 it's opposite\r\nif (!Object.defineProperty || (0 < H.getIE() <= 8 && navigator.userAgent.indexOf('MSIE') !== -1)) {\r\n    addProperty = function(instance, k, descriptor) {\r\n        instance[k] = descriptor.value;\r\n\r\n        if (H.isObject(descriptor[k])) {\r\n            instance[k].ienumerable = !descriptor.enumerable;\r\n        } else {\r\n            if (!instance[k].ienumerables) {\r\n                instance[k].ienumerables = [];\r\n            }\r\n            if (!descriptor.enumerable && instance[k].ienumerables instanceof Array) {\r\n                instance[k].ienumerables.push(k);\r\n            } else if (instance['ienumerables']) {\r\n                instance['ienumerables'][k] = undefined;\r\n                delete instance['ienumerables'][k];\r\n            }\r\n        }\r\n\r\n        //configurable, writable to be impl.\r\n    };\r\n\r\n    addProperty.__userDefined__ = true;\r\n\r\n    if (!Object.defineProperty) Object.defineProperty = addProperty;\r\n} else {\r\n    addProperty = Object.defineProperty;\r\n}\r\n\r\n/**\r\n * Create object and copy all properties into it.\r\n *\r\n * @static\r\n * @memberof H\r\n * @param {Object} base base class\r\n * @param {Object} reference object to copy properties from\r\n * @example\r\n *\r\n * var obj = H.createObject(Object.prototype, {a: 1, b: 2})\r\n */\r\nvar createObject = function() {\r\n    function F() {}\r\n\r\n    return function(o, p) {\r\n        F.prototype = o;\r\n        var instance = new F();\r\n        if (p) {\r\n            //p is a descriptor with key name k\r\n            //is this enough for replacing H.each(H.keys ?\r\n            for (var k in p) {\r\n                if (p.hasOwnProperty(k)) addProperty(instance, k, p[k]);\r\n            }\r\n        }\r\n        return instance;\r\n    };\r\n}();\r\n\r\n//emulate legacy getter/setter API using ES5 APIs\r\ntry {\r\n    if (!Object.prototype.__defineGetter__ &&\r\n        addProperty({},\"x\",{get: function(){return true;}}).x) {\r\n        addProperty(Object.prototype, \"__defineGetter__\",\r\n            {enumerable: false, configurable: true,\r\n                value: function(name,func)\r\n                {addProperty(this,name,\r\n                    {get:func,enumerable: true,configurable: true});\r\n                }});\r\n        addProperty(Object.prototype, \"__defineSetter__\",\r\n            {enumerable: false, configurable: true,\r\n                value: function(name,func)\r\n                {addProperty(this,name,\r\n                    {set:func,enumerable: true,configurable: true});\r\n                }});\r\n    }\r\n} catch(defPropException) {/*Do nothing if an exception occurs*/}\r\n\r\n// Avoid `console` errors in browsers that lack a console.\r\n(function() {\r\n    var method;\r\n    var noop = function () {};\r\n    var methods = [\r\n        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\r\n        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\r\n        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\r\n        'timeline', 'timelineEnd', 'timeStamp', 'trace', 'warn'\r\n    ];\r\n    var length = methods.length;\r\n    var console = root.console || {};\r\n    if (!root.console) root.console = console;\r\n\r\n    while (length--) {\r\n        method = methods[length];\r\n\r\n        // Only stub undefined methods.\r\n        if (!console[method]) {\r\n            console[method] = noop;\r\n        }\r\n    }\r\n}());\r\n\r\n//Polyfill for IE<9\r\nif (!String.prototype.trim) {\r\n    String.prototype.trim = function () {\r\n        return this.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\r\n    };\r\n}\r\n\r\nS.addProperty = addProperty;\r\nS.createObject = createObject;\r\n\r\nS.noop = function() {};\r\n\r\nmodule.exports = S;\r\n\n},{\"./detect\":4}],6:[function(require,module,exports){\nvar Func = require('./funchelper');\r\n\r\nvar Attr = {};\r\n\r\nfunction noop(v) {return v}\r\n\r\n/**\r\n * Get the attribute of the element\r\n *\r\n * @param {Element|walkAndGetAttributes} ele element to query\r\n * @param {String} attr attribute to query\r\n * @returns {string} attribute value\r\n */\r\nfunction innerGetAttribute(ele, attr) {\r\n    return ele.getAttribute(attr);\r\n}\r\n\r\n/**\r\n * Walks and recursively get all Elements' attribute value in the current ResultSet.\r\n * And returns all results as a ResultSet.\r\n *\r\n * @param {Array|Element|NodeList} eles ResultSet\r\n * @param {String} attr attribute name\r\n * @param {Function} [postProcess] return value postprocessor\r\n * @param {*} [addtionalAttr] parameter for `postProcess`\r\n * @returns {*} ResultSet contains all attributes\r\n */\r\nfunction walkAndGetAttributes(eles, attr, postProcess, addtionalAttr) {\r\n    return Func.createWalker(eles, function () {\r\n        return (postProcess || noop)(innerGetAttribute(this, attr), addtionalAttr);\r\n    }, [eles, attr, postProcess, addtionalAttr]);\r\n}\r\n\r\n/**\r\n * Set the attribute of the element\r\n *\r\n * @param {Element|walkAndGetAttributes} ele element to operate\r\n * @param {String} attr attribute to operate\r\n * @param {String} val attribute value to set\r\n */\r\nfunction innerSetAttribute(ele, attr, val) {\r\n    ele.setAttribute(attr, val);\r\n}\r\n\r\n/**\r\n * Walks and recursively set all Elements' attribute values to a constant value in the current ResultSet.\r\n *\r\n * @param {Array|Element|NodeList} eles ResultSet\r\n * @param {String} attr attribute name\r\n * @param {String} val attribute value to set\r\n */\r\nfunction walkAndSetAttributes(eles, attr, val) {\r\n    return Func.createWalker(eles, innerSetAttribute, [eles, attr, val]);\r\n}\r\n\r\n/**\r\n * Walks and recursively set all Elements' attribute values to the corresponding value in the offered ResultSet.\r\n *\r\n * @param {Array|Element|NodeList|Object} eles ResultSet\r\n * @param {String} attr attribute name\r\n * @param {String} valSet different attribute values stored as a ResultSet\r\n */\r\nfunction walkAndSetAttributesBySet(eles, attr, valSet) {\r\n    return Func.createWalker(eles, innerSetAttribute, [eles, attr, valSet], function(args, i) {\r\n        args[2] = args[2][i];\r\n    });\r\n}\r\n\r\n/**\r\n * Get or set attribute of the current ResultSet.\r\n *\r\n * @param {String} attribute attribute name\r\n * @param {String|Array|NodeList|Element} [val] attribute value to set, or the ResultSet of attribute values\r\n */\r\nAttr.attribute = Func.assembleFunctions(walkAndGetAttributes, walkAndSetAttributes, 1, 0);\r\n\r\nfunction splitClassString(val) {\r\n    return (val || \"\").trim().split(/[\\s]+/) || [];\r\n}\r\n\r\nfunction splitGen(strategy) {\r\n    var func = strategy ? Func.arrayEnsureContains : Func.arrayEnsureWithout;\r\n    return function(val, clzz) {\r\n        return func(splitClassString(val), clzz).join(' ');\r\n    };\r\n}\r\n\r\n/**\r\n * Gather all classes of each Element as a list of string in the current ResultSet.\r\n *\r\n * @param {Function} [alternative] alternative class string decorator\r\n * @param {*} parameter No use\r\n */\r\nfunction getClasses(alternative, parameter) {\r\n    return innerGetClass(this, alternative, parameter);\r\n}\r\n\r\n/**\r\n * Gather all classes of each Element in the current Result to lists of string.\r\n *\r\n * @param {Array|NodeList|Element|getClasses|classOpGen} ele element to query\r\n * @param alternative\r\n * @param parameter\r\n */\r\nfunction innerGetClass(ele, alternative, parameter) {\r\n    return walkAndGetAttributes(ele, 'class', alternative || splitClassString, parameter);\r\n}\r\n\r\n/**\r\n * Class attribute operator function.\r\n * Fetch the full class string of each Element in the current ResultSet, and pass it to an decorator function with a\r\n * parameter.\r\n * Mode 1: addClass mode, ensures the specific className will be in the class string\r\n * Mode 2: removeClass mode, ensures the specific className will not be in the class string\r\n * And then set the decorated class string back to the elements in the current ResultSet.\r\n *\r\n * @param {boolean} strategy Mode strategy. used to switch mode\r\n * @returns {Function} Class string processor, work as addClass or removeClass\r\n */\r\nfunction classOpGen(strategy) {\r\n    return function(className) {\r\n        var clss = innerGetClass(this, splitGen(strategy), className);\r\n\r\n        walkAndSetAttributesBySet(this, 'class', clss);\r\n    };\r\n}\r\n\r\nAttr.getClasses = getClasses;\r\nAttr.addClass = classOpGen(true);\r\nAttr.removeClass = classOpGen(false);\r\n\r\nmodule.exports = Attr;\n},{\"./funchelper\":11}],7:[function(require,module,exports){\n/*\r\n * CSS Attribute Operation Basic\r\n */\r\nvar Attr = {};\r\n\r\nvar Func = require('./funchelper');\r\nvar Vendor = require('./lightvendor');\r\nvar Mini = require('coreutil/mini');\r\n\r\nAttr.__setVendorProvider = function(v) {\r\n    if (v.compose) {\r\n        Vendor = v;\r\n    }\r\n};\r\n\r\nvar AttributeMap = {\r\n    'width': ['innerWidth', 'clientWidth'],\r\n    'height': ['innerHeight', 'clientHeight'],\r\n    'parent': ['parentElement', 'parentNode'],\r\n    'text': ['innerText', 'textContent']\r\n};\r\n\r\n/**\r\n * Extracts the only element in a ResultSet if there's only one.\r\n *\r\n * @param {Element|NodeList|Array} object ResuleSet to check\r\n * @returns {*|null} extracted Element object\r\n */\r\nfunction getSingleElement(object) {\r\n    if (object instanceof Element) {\r\n        return object;\r\n    }\r\n    var count = 0, vals = [];\r\n    if (Mini.isArrayLike(object)) {\r\n        Mini.arrayEach(object, function(v) {\r\n            if (v instanceof Element) {\r\n                count ++;\r\n                vals.push(v);\r\n            }\r\n        });\r\n        if (count === 1) {\r\n            return vals[0];\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction queryAttrAlias(attr) {\r\n    var c = Vendor.toCamel(attr);\r\n    var f = Vendor.fromCamel(attr);\r\n    var c_alias = Vendor.attrs[c] || [];\r\n    var f_alias = Vendor.attrs[f] || [];\r\n    return c_alias.concat(f_alias).concat([attr]);\r\n}\r\n\r\n/*\r\n * Getters\r\n */\r\nfunction directRetrieveAttribute(ele, attr) {\r\n    var mapped = AttributeMap[attr] || [];\r\n    for (var i = 0; i < mapped.length; i++) {\r\n        var ret = ele[mapped[i]];\r\n\r\n        if (ret !== undefined) return ret;\r\n    }\r\n}\r\n\r\nfunction innerGetAttribute(ele, attr) {\r\n    return getComputedStyle(ele)[attr];\r\n}\r\n\r\nfunction innerGetDeclaredAttr(ele, attr) {\r\n    return (ele.style || {})[attr];\r\n}\r\n\r\nfunction innerGetAttributeUntil(ele, attr, style) {\r\n    var func = style === 1 ? innerGetAttribute : innerGetDeclaredAttr;\r\n    var direct = directRetrieveAttribute(ele, attr);\r\n    if (direct !== undefined) return direct;\r\n    var attrs = queryAttrAlias(attr);\r\n    for (var i = 0; i < (attrs || []).length; i++) {\r\n        var ret = func(ele, attrs[i]);\r\n        if (ret) return ret;\r\n    }\r\n}\r\n\r\nfunction collectElementsAttributes(eles, attr, style) {\r\n    return Func.createWalker(eles, innerGetAttributeUntil, [eles, attr, style]);\r\n}\r\n\r\n/*\r\n * Setters\r\n */\r\n//sometimes direct way doesn't work, cuz some shortcut attributes like clientWidth are readonly\r\nfunction directSetAttribute(ele, attr, val) {\r\n    var mapped = AttributeMap[attr] || [];\r\n    for (var i = 0; i < mapped.length; i++) {\r\n        if (ele[mapped[i]]) {\r\n            ele[mapped[i]] = val;\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction innerSetAttribute(ele, attr, val) {\r\n    ele.style[attr] = val;\r\n}\r\n\r\nfunction innerSetAttributeUntil(ele, attr, val) {\r\n    //some attributes are read-only. try but don't believe it\r\n    directSetAttribute(ele, attr, val);\r\n    var attrs = queryAttrAlias(attr) || [];\r\n    for (var i = 0; i < attrs.length; i++) {\r\n        innerSetAttribute(ele, attrs[i], val);\r\n    }\r\n}\r\n\r\n/**\r\n * Walks on ResultSet and set attributes of each to val\r\n *\r\n * @param {Element|NodeList|Array|Object} eles ResultSet to check\r\n * @param {String} attr attribute name\r\n * @param {String} val attribute value to set\r\n * @returns {*}\r\n */\r\nfunction walkAndSetAttributes(eles, attr, val) {\r\n    return Func.createWalker(eles, innerSetAttributeUntil, [eles, attr, val]);\r\n}\r\n\r\n/**\r\n * Get computed style of a ResultSet\r\n *\r\n * @param {Element|NodeList|Array|Object} ele ResultSet to check\r\n * @param {String} attr attribute name\r\n */\r\nfunction getCssAttribute(ele, attr) {\r\n    ele = getSingleElement(ele);\r\n    if (!ele || !attr) {\r\n        return;\r\n    }\r\n    return collectElementsAttributes(ele, attr, 1);\r\n}\r\n\r\n//getAttribute and setAttribute is in DOM.Element, do not overwrite it\r\nAttr.getCssAttribute = getCssAttribute;\r\nAttr.getSingleElement = getSingleElement;\r\nAttr.setCssAttribute = walkAndSetAttributes;\r\n\r\nmodule.exports = Attr;\n},{\"./funchelper\":11,\"./lightvendor\":12,\"coreutil/mini\":2}],8:[function(require,module,exports){\n/*\r\n * CSS Attributes Operate\r\n */\r\nvar Attr = require('./cssattribute');\r\nvar Mini = require('coreutil/mini');\r\n\r\nvar Func = require('./funchelper');\r\n\r\nvar Ops = {};\r\n\r\n/*\r\n * Simple Attributes\r\n */\r\n\r\nfunction attributeGetterGen(attr) {\r\n    return function(ele) {\r\n        return Attr.getCssAttribute(ele, attr);\r\n    };\r\n}\r\n\r\nfunction attributeSetterGen(attr) {\r\n    return function(ele, val) {\r\n        return Attr.setCssAttribute(ele, attr, val);\r\n    };\r\n}\r\n\r\n/**\r\n * Get or set the specific attribute on all elements in the ResultSet\r\n *\r\n * @param {String} attr attribute name\r\n * @returns {*|null}\r\n */\r\nfunction attributeOpAssembled(attr) {\r\n    return Func.assembleFunctions(attributeGetterGen(attr), attributeSetterGen(attr), 0);\r\n}\r\n\r\nOps.text =    attributeOpAssembled('text');\r\nOps.height =  attributeOpAssembled('height');\r\nOps.width =   attributeOpAssembled('width');\r\nOps.parent =  attributeOpAssembled('parent');\r\n\r\n//General CSS Attributes\r\nOps.cssAttr = function(attr, value) {\r\n    if (typeof attr === 'string' && arguments.length === 1) {\r\n        //get\r\n        return Attr.getCssAttribute(this, attr);\r\n    } else if (typeof attr === 'object') {\r\n        //set\r\n        var ele = this;\r\n        var key;\r\n        var keys = Mini.keys(attr) || [];\r\n        for (var i = 0; i < keys.length; i++) {\r\n            key = keys[i];\r\n            Attr.setCssAttribute(ele, key, attr[key]);\r\n        }\r\n    } else if (arguments.length === 2) {\r\n        Attr.setCssAttribute(this, attr, value);\r\n    }\r\n};\r\n\r\n/*\r\n * Class\r\n */\r\n\r\nmodule.exports = Ops;\n},{\"./cssattribute\":7,\"./funchelper\":11,\"coreutil/mini\":2}],9:[function(require,module,exports){\nvar RS = require('./domresultset');\r\nvar wrap = RS.wrapDom;\r\nvar Mini = require('coreutil/mini');\r\n\r\n/**\r\n * Search elements in the current ResultSet.\r\n *\r\n * @param {Array|Element|NodeList|Node} ele ResultSet to check\r\n * @param {String|NodeList|Node|Window} selector CSS selector string\r\n * @returns {*} ResultSet of elements\r\n */\r\nfunction findElement(ele, selector) {\r\n\r\n    //top element is `html`, not document\r\n\r\n    //if selector is RS or window/document, wrap it\r\n    if (typeof selector !== 'string') {\r\n        if (selector === window || selector === document\r\n            || (selector instanceof Node && !(selector instanceof Element))) {\r\n            //css operations not allowed for window, but event operations allowed.\r\n            //TODO: add dom event module, make a splitter and change code here\r\n            return wrap(document.querySelectorAll('html'));\r\n        }\r\n        if (selector instanceof NodeList\r\n            || selector instanceof Element\r\n            || Mini.isArrayLike(selector)) {\r\n            return wrap(selector);\r\n        }\r\n    }\r\n\r\n    if (ele === document) {\r\n        return wrap(document.querySelectorAll(selector));\r\n    } else if(ele instanceof Element) {\r\n        return wrap(ele.prototype.querySelectorAll(selector));\r\n    }\r\n}\r\n\r\n/**\r\n * CSS selector processing module\r\n *\r\n * @param {String} selector CSS selector string\r\n */\r\nvar $ = function(selector) {\r\n    return findElement(document, selector);\r\n};\r\n\r\n$.findElement = findElement;\r\n\r\nmodule.exports = $;\n},{\"./domresultset\":10,\"coreutil/mini\":2}],10:[function(require,module,exports){\nvar RS = {};\r\n\r\nvar ARS =      require('coreutil/src/abstractresultset');\r\nvar Mini =     require('coreutil/mini');\r\nvar Selector = require('./cssselector');\r\nvar Attr =     require('./attribute');\r\nvar Ops =      require('./cssoperators');\r\nvar NodeOps =  require('./nodeop');\r\n\r\nvar DomIdentifier = '__isDOM__';\r\n\r\n// var getSingleElement = CssAttr.getSingleElement;\r\n\r\n//node.js fallback\r\nvar htmlElementObj = function() {};\r\n\r\ntry {\r\n    htmlElementObj = eval('Element');\r\n} catch (e) {\r\n    e.printStackTrace(\"DOM cannot be operated in node.js environment!\");\r\n    return;\r\n}\r\n\r\nfunction checker(val) {\r\n    if (val instanceof Array || val instanceof htmlElementObj || val instanceof NodeList) {\r\n        return true;\r\n    }\r\n}\r\n\r\n//, Node.prototype node can be added as event targets, but not css now.\r\nARS.registerChannel(DomIdentifier, [Element.prototype, Array.prototype, NodeList.prototype], checker);\r\n\r\nfunction registerComponent(name, func) {\r\n    ARS.registerChannelFunction(DomIdentifier, name, func);\r\n}\r\n\r\n/*\r\n * ResultSet Operations\r\n *\r\n * TODO: enable access control from ResultSet impl. (expand preCheck function)\r\n * for example:\r\n * ban access from DomResultSet.join\r\n */\r\n/**\r\n * Clones a list of nodes or a single node\r\n * Supports depth up to 1.\r\n *\r\n * @memberof {Array|Element}\r\n */\r\nfunction cloneDomElement(eles, deep) {\r\n    if (eles instanceof Element) {\r\n        return eles.cloneNode(!!deep);\r\n    }\r\n    if (Mini.isArrayLike(this)) {\r\n        return Mini.arrayEach(eles, function(ele) {\r\n            return cloneDomElement(ele, deep);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Clones the current ResultSet\r\n *\r\n * @param {boolean} [deep] do deep copy or not\r\n */\r\nfunction cloneDom(deep) {\r\n    return cloneDomElement(this || [], deep);\r\n}\r\n\r\n/**\r\n * Find elements satisfying the specific selector under the current ResultSet\r\n *\r\n * @param {String} selector selector string\r\n * @returns {Array|NodeList|Element} ResultSet\r\n */\r\nfunction find(selector) {\r\n    return Selector.findElement(this, selector);\r\n}\r\n\r\nregisterComponent(\"clone\",        cloneDom);\r\nregisterComponent(\"css\",          Ops.cssAttr);\r\nregisterComponent(\"text\",         Ops.text);\r\nregisterComponent(\"attribute\",    Attr.attribute);\r\nregisterComponent(\"getClasses\",   Attr.getClasses);\r\nregisterComponent(\"addClass\",     Attr.addClass);\r\nregisterComponent(\"removeClass\",  Attr.removeClass);\r\nregisterComponent(\"append\",       NodeOps.append);\r\nregisterComponent(\"prepend\",      NodeOps.prepend);\r\nregisterComponent(\"insertHead\",   NodeOps.insertHead);\r\nregisterComponent(\"insertTail\",   NodeOps.insertTail);\r\nregisterComponent(\"parent\",       Ops.parent);\r\nregisterComponent(\"width\",        Ops.width);\r\nregisterComponent(\"height\",       Ops.height);\r\nregisterComponent(\"find\",         find);\r\n\r\nvar wrap = ARS.wrapperGen(DomIdentifier);\r\n\r\nRS.wrapDom = wrap;\r\n\r\n//RS.H$ is a CSS selector processor\r\nRS.H$ = Selector;\r\n\r\nmodule.exports = RS;\n},{\"./attribute\":6,\"./cssoperators\":8,\"./cssselector\":9,\"./nodeop\":13,\"coreutil/mini\":2,\"coreutil/src/abstractresultset\":3}],11:[function(require,module,exports){\nvar Func = {};\r\nvar Mini = require('coreutil/mini');\r\n\r\nfunction assembleFunctions(func1, func2, desiredArgsSize, earlyExitSize) {\r\n    return function() {\r\n        if (arguments.length === earlyExitSize) return;\r\n        var func = arguments.length === desiredArgsSize ? func1 : func2;\r\n        return func.apply(this, [this].concat(Array.prototype.slice.call(arguments)));\r\n    };\r\n}\r\n\r\nFunc.assembleFunctions = assembleFunctions;\r\n\r\nFunc.noop = function(v) {\r\n    return v;\r\n};\r\n\r\nfunction copyArray(arr) {\r\n    var ret = [];\r\n    for (var i = 0; i < arr.length; i++) {\r\n        ret[i] = arr[i];\r\n    }\r\n    return ret;\r\n}\r\n\r\nfunction recursivelyDomSomething(elements, collector, initArgs, argProcessor) {\r\n    //eles, ...args\r\n    function gen(eles) {\r\n        var args = arguments;\r\n        if (eles instanceof Element) {\r\n            return collector.apply(eles, args);\r\n        }\r\n        if (Mini.isArrayLike(eles)) {\r\n            var ret = [];\r\n            for (var i = 0; i < eles.length; i++) {\r\n                var ele = eles[i];\r\n                if (ele instanceof Element || Mini.isArrayLike(ele)) {\r\n                    var newArgs = copyArray(args);\r\n                    newArgs[0] = ele;\r\n                    ret[i] = gen.apply(ele, (argProcessor || Func.noop)(newArgs, i));\r\n                }\r\n            }\r\n            return ret;\r\n        }\r\n    }\r\n    return gen.apply(elements, initArgs);\r\n}\r\n\r\nFunc.createWalker = recursivelyDomSomething;\r\n\r\nfunction arraySplit(arr, ele) {\r\n    var a = [];\r\n    var b = [];\r\n    var e;\r\n    for (var i = 0; i < arr.length; i++) {\r\n        if ((e = arr[i]) != ele) {\r\n            a.push(e);\r\n        } else {\r\n            b.push(e);\r\n        }\r\n    }\r\n    return [a, b];\r\n}\r\n\r\nfunction ensureArrayContains(arr, ele) {\r\n    return arraySplit(arr, ele)[0].concat([ele]);\r\n}\r\n\r\nfunction ensureArrayWithout(arr, ele) {\r\n    return arraySplit(arr, ele)[0];\r\n}\r\n\r\nFunc.arrayEnsureContains = ensureArrayContains;\r\nFunc.arrayEnsureWithout = ensureArrayWithout;\r\n\r\nmodule.exports = Func;\n},{\"coreutil/mini\":2}],12:[function(require,module,exports){\nvar L = {};\r\n\r\nL.toCamel = function(str) {\r\n    return str.replace(/-[a-z]/g, function($1) {\r\n        return $1[1].toUpperCase();\r\n    });\r\n};\r\n\r\nL.fromCamel = function(str) {\r\n    return str.replace(/[A-Z]/g, function($1) {\r\n        return '-' + $1.toLowerCase();\r\n    });\r\n};\r\n\r\nL.capitalize = function(str) {\r\n    return str[0].toUpperCase() + str.substr(1);\r\n};\r\n\r\nL.compose = function(attr) {\r\n    var c = L.toCamel(attr);\r\n    var f = L.fromCamel(attr);\r\n    var ret = [c, f];\r\n    var cC = c;\r\n    if (c && c[0]) {\r\n        cC = L.capitalize(c);\r\n    }\r\n    var available = [\"ms\", \"webkit\", \"moz\", \"o\"];\r\n    for (var i = 0; i < available.length; i++) {\r\n        ret.push(available[i] + cC);\r\n        ret.push(L.fromCamel(L.capitalize(available[i]) + cC));\r\n    }\r\n    return ret;\r\n};\r\n\r\nmodule.exports = L;\n},{}],13:[function(require,module,exports){\nvar N = {};\r\n\r\nvar Func = require('./funchelper');\r\nvar Mini = require('coreutil/mini');\r\n\r\nfunction insertElementAfter(targetElement, newElement) {\r\n    if (typeof newElement === 'string') {\r\n        return targetElement.insertAdjacentHTML('afterend', newElement);\r\n    }\r\n    if (targetElement.nodeType !== Element.DOCUMENT_NODE) {\r\n        targetElement.parentNode.insertBefore(newElement, targetElement.nextSibling);\r\n    }\r\n}\r\n\r\nfunction insertElementBefore(targetElement, newElement) {\r\n    if (typeof newElement === 'string') {\r\n        return targetElement.insertAdjacentHTML('beforebegin', newElement);\r\n    }\r\n    if (targetElement.nodeType !== Element.DOCUMENT_NODE) {\r\n        targetElement.parentNode.insertBefore(newElement, targetElement);\r\n    }\r\n}\r\n\r\nfunction insertElementAtBeginning(targetElement, newElement) {\r\n    if (typeof newElement === 'string') {\r\n        return targetElement.insertAdjacentHTML('afterbegin', newElement);\r\n    }\r\n    targetElement.insertBefore(newElement, targetElement.firstChild);\r\n}\r\n\r\nfunction insertElementAtEnd(targetElement, newElement) {\r\n    if (typeof targetElement === 'string') {\r\n        return targetElement.insertAdjacentHTML('beforeend', newElement);\r\n    }\r\n    targetElement.appendChild(newElement);\r\n    // targetElement.insertBefore(newElement, targetElement.lastChild);\r\n}\r\n\r\nfunction basePender(strategy) {\r\n    return function(base, newElement) {\r\n        return Func.createWalker(base, strategy, [base, newElement]);\r\n    };\r\n}\r\n\r\nvar baseAppend = basePender(insertElementAtEnd);\r\nvar basePrepend = basePender(insertElementAtBeginning);\r\nvar baseInsertHead = basePender(insertElementBefore);\r\nvar baseInsertEnd = basePender(insertElementAfter);\r\n\r\n//can be abstracted\r\nfunction pender(basePender) {\r\n    return function(newElements) {\r\n        var base = this;\r\n        if (Mini.isArrayLike(newElements)) {\r\n            Mini.arrayEach(newElements, function(ele) {\r\n                basePender(base, ele);\r\n            });\r\n        } else {\r\n            basePender(base, newElements);\r\n        }\r\n    };\r\n}\r\n\r\nvar append = pender(baseAppend);\r\nvar prepend = pender(basePrepend);\r\nvar insertAtHead = pender(baseInsertHead);\r\nvar insertAtEnd = pender(baseInsertEnd);\r\n\r\nN.append = append;\r\nN.prepend = prepend;\r\nN.insertHead = insertAtHead;\r\nN.insertTail = insertAtEnd;\r\n\r\nmodule.exports = N;\n},{\"./funchelper\":11,\"coreutil/mini\":2}]},{},[1]);\n"],"sourceRoot":"/source/"}